# floating-lang

`$ node js-output/all.js source.flt

## Examples

### Hello, world!
```
4/9*(1-10^(-72))+12/10^74
4/9*(1-10^(-101))+12/10^103
4/9*(1-10^(-108))+12/10^110
4/9*(1-10^(-108))+12/10^110
4/9*(1-10^(-111))+12/10^113
4/9*(1-10^(-44))+12/10^46
4/9*(1-10^(-32))+12/10^34
4/9*(1-10^(-119))+12/10^121
4/9*(1-10^(-111))+12/10^113
4/9*(1-10^(-114))+12/10^116
4/9*(1-10^(-108))+12/10^110
4/9*(1-10^(-100))+12/10^102
4/9*(1-10^(-33))+12/10^35
```

### cat
```
2*7/5
11294/11111
647/10^3
```

## 仕様

### 概要

Floatingは、小数の桁を利用したプログラミング言語です。

Brainf**kなどと同様に、左右無限のテープの上を動きます。テープの各番地の初期値は0です。

各行の数式の計算結果の小数点以下を命令列として解釈します。
1行目から順に実行されます。
空行は許されません。

整数リテラルと四則演算、累乗、括弧、正負号が使えます。
ただし、累乗は指数が整数である必要があります。
また、`$`は、そのとき指しているテープ上の数字に評価されます。


### 命令テーブル

式の計算結果は正でなければなりません。このとき
- 1より小さければ、小数点以下をそのまま実行します。
- 1以上であれば、小数点以下を命令テーブルの(整数部分)番地に保存します。
はじめ、命令テーブルには何も保存されていません。

### 桁と命令の対応

| 桁 | 命令 |
|:---:|:---|
| 0 | getchar |
| 1 | putchar |
| 2 | 左に1回移動 |
| 3 | 右に1回移動 |
| 4 | 指す値を1増やす |
| 5 | 指す値を1減らす |
| 6 | 入力の終端で1、他で0を書き込む |
| 7 | 命令テーブルの(指す値)番地を実行 |
| 8 | 正常終了する |
| 9 | 何もしない |
